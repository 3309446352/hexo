import{_ as h,Q as v,r as w,c as x,g as n,i as t,H as d,R as p,l as c,t as u,D as b,F as k,j as V,U as M,f as i,V as U,C as q}from"./aa42fd17.js";import"https://unpkg.com/@waline/client@v2/dist/waline.mjs";const C={class:"form-group"},D={key:0,class:"error-msg"},F={class:"form-group"},P={key:0,class:"error-msg"},S={class:"form-group"},j={key:0,class:"error-msg"},B={class:"form-group"},N={class:"checkbox-group"},O=["value"],T=["disabled"],E={__name:"MusicPlayer",setup(R){const a=v({name:"",email:"",password:"",hobbies:[]}),_={name:[{required:!0,message:"姓名不能为空"},{min:2,max:10,message:"长度在2-10个字符"}],email:[{required:!0,message:"邮箱不能为空"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"邮箱格式不正确"}],password:[{required:!0,message:"密码不能为空"},{min:8,message:"密码至少8位"}]},r=v({}),m=w(!1),g=x(()=>Object.values(r).every(s=>!s)),f=s=>{const e=_[s],o=a[s];r[s]=[];for(const l of e){if(l.required&&!o){r[s].push(l.message);return}if(l.pattern&&!l.pattern.test(o)){r[s].push(l.message);return}if(l.min&&o.length<l.min){r[s].push(l.message);return}}},y=async()=>{if(m.value=!0,Object.keys(a).forEach(s=>{f(s)}),await new Promise(s=>setTimeout(s,1e3)),g.value)try{console.log("提交成功:",a),alert("表单提交成功！"),a.name="",a.email="",a.password="",a.hobbies=[]}catch(s){console.error("提交失败:",s),alert("提交失败，请重试")}m.value=!1};return(s,e)=>(i(),n("form",{onSubmit:M(y,["prevent"]),class:"custom-form"},[t("div",C,[e[4]||(e[4]=t("label",{for:"name"},"姓名：",-1)),d(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>a.name=o),type:"text",placeholder:"请输入姓名",class:c({"error-input":r.name})},null,2),[[p,a.name]]),r.name?(i(),n("span",D,u(r.name),1)):b("",!0)]),t("div",F,[e[5]||(e[5]=t("label",{for:"email"},"邮箱：",-1)),d(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>a.email=o),type:"email",placeholder:"example@domain.com",class:c({"error-input":r.email})},null,2),[[p,a.email]]),r.email?(i(),n("span",P,u(r.email),1)):b("",!0)]),t("div",S,[e[6]||(e[6]=t("label",{for:"password"},"密码：",-1)),d(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>a.password=o),type:"password",placeholder:"至少8位字符",class:c({"error-input":r.password})},null,2),[[p,a.password]]),r.password?(i(),n("span",j,u(r.password),1)):b("",!0)]),t("div",B,[e[7]||(e[7]=t("label",null,"兴趣爱好：",-1)),t("div",N,[(i(!0),n(k,null,V(s.hobbiesOptions,o=>(i(),n("label",{key:o.value},[d(t("input",{type:"checkbox",value:o.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.hobbies=l)},null,8,O),[[U,a.hobbies]]),q(" "+u(o.label),1)]))),128))])]),t("button",{type:"submit",disabled:m.value},u(m.value?"提交中...":"立即提交"),9,T)],32))}},I=h(E,[["__scopeId","data-v-1f1bcd89"]]);export{I as default};
